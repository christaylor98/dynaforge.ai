# Auto-generated by codexa discover; do not edit manually.
metadata:
  version: 0.2.0
  generated_at: '2025-11-03T21:34:31+00:00'
  repo: dynaforge.ai
  commit_sha: f5b6203b02c9ee8c19e66ba3bb34ab571a1c39f9
  generator: codexa discover
  discovery_mode: full
  status: current
  owners:
    accountable: human.pm
    responsible: discovery_analyzer
    consulted:
    - project_manager_agent
    - governance_officer
    informed:
    - implementer_agent
    - tester_agent
inputs:
  config_file:
    path: docs/discovery/config.yaml
    exists: true
    todo: Validate against discovery CLI once FR-38 is implemented.
  loop_scope:
    path: loop-plan.json
    scope_id: CH-010
    scope_type: change
    description: Modernise billing pipeline
    captured_at: '2025-11-03T20:42:17+00:00'
  reference_docs:
  - design/MS-02_storyboard.md
  - TRACEABILITY.md
  - docs/ARCHITECTURE.md
  - docs/PROJECT_OVERVIEW.md
  - docs/status/iteration_log.md
  followups_open: []
  notes:
  - Seed Planner will generate bundle via `codexa seed --from loop-plan`.
  - Update before execution to reflect actual scope/handoff context.
summary:
  project_phase: "MS-02 \u2014 Discovery MVP"
  readiness:
    discovery_artifacts_present: true
    iteration_followups_open: false
    notes: Bootstrap manifest generated automatically; no outstanding follow-ups.
  understanding_metrics:
    coverage_percent: 76.7
    coverage_source: analysis/metrics/understanding_coverage.yaml
    coverage_previous: 68.0
    discovery_freshness: '2025-11-03T20:42:17+00:00'
    freshness_source: artifacts/ms02/storyboard/summary.md
  discovery_artifacts:
    manifest: analysis/system_manifest.yaml
    change_zones: analysis/change_zones.md
    intent_map: analysis/intent_map.md
    config_template: docs/discovery/config.yaml
    artifact_hashes:
      change_zones: 2c2d73ce9e993ba80b5920c684947ec543fc2381b67f676e4bc48a7dbe6e9f0e
      intent_map: 2ec281291d0dfa05082d0fff02b215816564fce20c548822b5a2cac6fc36d04e
    metrics: analysis/metrics/understanding_coverage.yaml
  language_inventory:
    markdown:
      primary_paths:
      - docs/
      - backlog/
      - changes/
      - .codex/
      - .
      - analysis/
      - tests/
      - design/
      notes: Auto-detected; 107 tracked files.
    json:
      primary_paths:
      - tests/
      - .
      - .vscode/
      notes: Auto-detected; 4 tracked files.
    yaml:
      primary_paths:
      - analysis/
      - .codex/
      - .
      - docs/
      notes: Auto-detected; 7 tracked files.
    other:
      primary_paths:
      - audit/
      - tests/
      - pipelines/
      - codexa/
      - agents/
      - .
      - scripts/
      - design/
      notes: Auto-detected; 44 tracked files.
    python:
      primary_paths:
      - pipelines/
      - tests/
      - codexa/
      - agents/
      - audit/
      - scripts/
      notes: Auto-detected; 27 tracked files.
  toolchain:
    python_version: '3.11'
    static_analysis:
    - tree-sitter (planned)
    - tokei
    - radon
    - pygount
    orchestration:
    - codexa CLI (planned)
    - Makefile targets
architecture:
  layers:
  - name: Agent Orchestration
    responsibilities:
    - "Coordinate milestone loops (PM \u2192 Designer \u2192 Implementer \u2192 Tester)."
    - Maintain audit handoffs and approvals.
    components:
    - path: agents/project_manager.py
    - path: pipelines/phase1_orchestrator.py
  - name: Discovery & Understanding
    responsibilities:
    - Produce structural manifests and iteration logs.
    - Drive System Model Graph refresh (planned).
    components:
    - path: scripts/discovery_bootstrap.py
    - path: scripts/ms02_dry_run.py
    - path: docs/status/iteration_log.md
  - name: Audit & Governance
    responsibilities:
    - Persist commands, handoffs, approvals, and QA evidence.
    - Surface governance snapshots.
    components:
    - path: audit/commands.jsonl
    - path: audit/handoff_ms01_phase0.jsonl
    - path: artifacts/ms02/storyboard/gaps.md
  - name: Execution & QA
    responsibilities:
    - Provide deterministic execution paths and QA policy enforcement.
    components:
    - path: pipelines/qa_enforcer.py
    - path: tests/
components:
- id: agents
  name: Core Agents
  paths:
  - agents/project_manager.py
  - agents/designer.py
  - agents/implementer.py
  - agents/tester.py
  responsibilities:
  - Orchestrate milestone workflows and generate documentation.
  - Provide deterministic outputs for demos.
  dependencies:
  - pipelines.audit
  - pipelines.interaction_stub
  maturity: phase0-stable
  requirements:
  - FR-01
  - FR-04
  - FR-06
  trace_links:
  - TRACEABILITY.md#ws-101-multi-agent-orchestration
  - TRACEABILITY.md#phase-0-foundation
- id: pipelines
  name: Pipeline Utilities
  paths:
  - pipelines/
  responsibilities:
  - Provide CLI-adjacent tooling (interaction stub, concern tools, orchestrator, status
    snapshots).
  dependencies:
  - audit.logger
  - QA_POLICY.yaml
  maturity: mixed
  requirements:
  - FR-38
  - FR-41
  trace_links:
  - TRACEABILITY.md#ws-09-discovery-foundations
  - TRACEABILITY.md#fr-41-understanding-coverage-readiness-metrics
- id: discovery-seeding
  name: Discovery Seed Artifacts
  paths:
  - scripts/discovery_bootstrap.py
  - scripts/ms02_dry_run.py
  - artifacts/ms02/storyboard/
  - docs/status/iteration_log.md
  responsibilities:
  - Simulate discovery outputs until full pipeline ships.
  - Supply governance summaries and gaps tracking.
  dependencies:
  - loop-plan.json
  - TRACEABILITY.md
  maturity: provisional
  requirements:
  - FR-38
  - FR-40
  - FR-41
  trace_links:
  - TRACEABILITY.md#ws-09-discovery-foundations
  - TRACEABILITY.md#ws-110-loop-planning-seed-generation
- id: governance-docs
  name: Governance & Traceability
  paths:
  - TRACEABILITY.md
  - docs/PROJECT_OVERVIEW.md
  - docs/ARCHITECTURE.md
  responsibilities:
  - Maintain milestone, workstream, and requirement status.
  - Provide human-readable overviews and approvals.
  dependencies:
  - audit/commands.jsonl
  - changes/
  maturity: evolving
  requirements:
  - FR-02
  - FR-10
  - FR-13
  trace_links:
  - TRACEABILITY.md#phase-0-foundation
  - TRACEABILITY.md#ms-02--discovery-mvp
artifacts:
  audit_trail:
    command_log: audit/commands.jsonl
    handoffs:
    - audit/handoff.jsonl
    - audit/handoff_ms01_phase0.jsonl
    - audit/handoff_discovery.jsonl
  discovery_snapshots:
    storyboard_summary: artifacts/ms02/storyboard/summary.md
    gaps: artifacts/ms02/storyboard/gaps.md
    iteration_log: docs/status/iteration_log.md
    change_zones: analysis/change_zones.md
    intent_map: analysis/intent_map.md
  milestone_assets:
    storyboard: design/MS-02_storyboard.md
    governance: artifacts/ms02/storyboard/summary.md
    change_scope: loop-plan.json
  change_work:
    active_changes:
    - changes/CH-001/
    planned_changes:
    - CH-010 (loop plan)
dependencies_external:
  python_modules:
  - argparse
  - yaml
  - json
  - pathlib
  cli_tools:
  - make
  - git
  analysis_tooling_planned:
  - tree-sitter
  - tokei
  - radon
  - pygount
risks_and_gaps:
- id: gap-issue-12
  description: Follow-up issue-12 remains open from discovery dry run.
  mitigation: Resolve via conversational follow-up or rerun discovery once manifests
    are real.
  status: closed
- id: gap-automation
  description: Automated manifest generation (FR-38) not fully implemented; bootstrap
    script lacks semantic analysis.
  mitigation: Integrate discovery analyzer agent and CLI pipeline.
  status: open
next_actions:
- Implement tree-sitter backed analysis for structural graphs (FR-38).
- Add manifest hashing and System Model Graph pointers.
- Replace bootstrap script with production discovery analyzer.
