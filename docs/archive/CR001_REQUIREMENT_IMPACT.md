# CR001 Requirement Impact

## Context
- Change request `docs/CHANGE_REQUEST_001.md` introduces a multi-agent governance loop (Requirements Analyst, Impact Assessor, QA Auditor, Test Synthesizer), recommends embedding a lightweight RACI, and adds new traceability and testing artifacts.
- Scope includes updates to existing requirements in `docs/REQUIREMENTS.md` and proposals for new functional capabilities to support automated impact assessment and traceability integrity.

## Updated Requirements
| Requirement ID | Current Focus | Required Update from CR001 | CR001 Source |
| --- | --- | --- | --- |
| FR-01 | Project Manager agent orchestrates workflows and maintains project summaries. | Expand mandate to coordinate the RA→IA→QA→PM→TS loop, enforce the advisory RACI, and maintain change/impact artifacts (`CHANGE_LOG.md`, audit JSONL with RACI metadata). | Recommended Agent Roles → Project Manager; AI RACI Matrix; Implementation Strategy Phase A–C. |
| FR-05 | Tester agent owns `tests/TEST_PLAN.md`, `tests/TEST_RESULTS.md`, `tests/TEST_RESULTS_DETAIL.md`. | Require tester ecosystem to surface risk-tier coverage metrics and collaborate with the Test Synthesizer/QA Auditor outputs (Test Quality Summary section). | Recommended Agent Roles → Test Synthesizer; Suggested Additions → Test Quality Summary. |
| FR-06 | Log inter-agent handoffs as structured JSON with origin/destination metadata. | Add mandatory fields `{fr_id, ws_id, tc_id, raci_role}` plus artifact integrity hash/timestamp to each audit entry. | Recommendation Summary → Audit evidence; Maturity Evaluation → Evidence Integrity & Audit Consistency. |
| FR-11 | QA policy engine evaluates QA results before merges. | Extend policy checks to consume Impact Assessor/QA Auditor risk tiers and block promotion when risk coverage goals or impact deltas remain open. | Recommended Agent Roles → Impact Assessor & QA Auditor; Test Quality Summary table. |
| FR-13 | Produce regular status snapshots showing phase progress and metrics. | Ensure snapshots incorporate risk classification, orphan map summaries, and coverage ratios generated by QA Auditor/TQA outputs. | Suggested Additions → Risk Classification Column & Traceability Gaps; Metrics Summary recommendation. |

## New Requirements
| Proposed ID | Requirement Summary | Primary Owner | Motivation from CR001 |
| --- | --- | --- | --- |
| FR-15 (proposed) | Introduce a Requirements Analyst agent that watches for requirement deltas, updates traceability tables, generates impact summaries, and raises concerns when ripple effects are detected. | Requirements Analyst | Recommended Agent Roles → Requirements Analyst; Workflow Loop diagram. |
| FR-16 (proposed) | Provide an Impact Assessor agent that quantifies downstream effects, updates requirement/workstream notes with impact statements, and publishes `IMPACT_REPORT.md` / `artifacts/impact_deltas.json`. | Impact Assessor | Recommended Agent Roles → Impact Assessor; Implementation Strategy Phase A & C. |
| FR-17 (proposed) | Establish a QA Auditor agent that validates FR→WS→TC coverage, produces Traceability Gap reports, and updates requirement/test status with risk tiers. | QA Auditor | Recommended Agent Roles → QA Auditor; Suggested Additions → Traceability Gaps Section. |
| FR-18 (proposed) | Add a Test Synthesizer agent to generate or update tests (`TC-*`) for uncovered or changed requirements and sync traceability links. | Test Synthesizer | Recommended Agent Roles → Test Synthesizer; Workflow Loop diagram. |
| FR-19 (proposed) | Create a Test Quality Assessor capability that compiles risk-based coverage metrics (Required Depth vs. Actual Cases) and feeds the Test Quality Summary into QA gates. | TQA capability (Tester + QA Auditor) | Suggested Additions → Test Quality Summary; Maturity Evaluation → Test adequacy assessment. |
| FR-20 (proposed) | Maintain an advisory AI RACI matrix artifact and embed RACI role metadata into audit logs to improve explainability. | Project Manager | AI RACI Matrix section; Runtime usage guidance. |

## Traceability Matrix Format Updates
- **Risk Classification Column:** Extend every requirement coverage table with a `Risk` column covering `Critical/High/Medium/Low` tiers and include agent guidance for how risk influences minimum test depth.
- **Traceability Gaps Section:** Append an `### Unmapped Elements` report enumerating unlinked FRs, orphaned tests, and stale workstreams, populated by the QA Auditor agent.
- **Test Quality Summary:** Add an auto-generated `### Test Quality Summary` table with columns `Risk`, `Required Depth`, `Actual Cases`, `Coverage Ratio`, and `Notes` to inform QA policy enforcement and FR-19 metrics.
- **Artifact Integrity Ledger:** Introduce a digest block (e.g., `### Artifact Integrity`) that lists artifact path, hash, and timestamp to meet the enhanced FR-06/FR-11 evidence requirements.
- **Metrics Footer:** Close each traceability update with a metrics snapshot (coverage %, pass rate %, risk coverage %) so FR-13 status snapshots can ingest consistent data.

## Follow-ups / Questions
- Confirm numbering and ownership conventions for proposed FR-15 through FR-20 before amending `docs/REQUIREMENTS.md`.
Confirmed
- Align on whether the Test Quality Assessor is a standalone agent or responsibilities embedded into Tester/QA Auditor prompts.
Standalone agent
- Define exact artifact formats for `CHANGE_LOG.md`, `IMPACT_REPORT.md`, and traceability gap summaries to keep automation consistent.
- Clarify how risk tiers map to existing QA policy thresholds so FR-11 updates remain enforceable.

